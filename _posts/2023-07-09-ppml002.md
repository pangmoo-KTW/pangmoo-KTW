---
layout: post
title: "NumPy 메모리"
author: 김태원
categories: MachineLearning
tags: [MachineLearning]
---

> *José Unpingco의 [Python for Probability, Statistics, and Machine Learning](https://library.samdu.uz/files/7cbb6fdd660fb2c0f0580bfd6ed73040_Python%20for%20Probability,%20Statistics,%20and%20Machine%20Learning.pdf){:target="_blank"}을 읽으며 기록한 내용입니다.*

인덱싱 객체는 사본을 만들기도 한다.

```python
>>> import numpy as np
>>> x = np.array([[1,2,3],[4,5,6],[7,8,9]])
>>> x
array([[1, 2, 3],
       [4, 5, 6],
       [7, 8, 9]])
>>> x[:,[2,2,2,2,2]]
array([[3, 3, 3, 3, 3],
       [6, 6, 6, 6, 6],
       [9, 9, 9, 9, 9]])
>>> x[:,[0,1,2,1,0]]
array([[1, 2, 3, 2, 1],
       [4, 5, 6, 5, 4],
       [7, 8, 9, 8, 7]])
>>> x[[0,1,2,1,0],:]
array([[1, 2, 3],
       [4, 5, 6],
       [7, 8, 9],
       [4, 5, 6],
       [1, 2, 3]])
>>> y = x[[0,1,2,1,0],:]
>>> y
array([[1, 2, 3],
       [4, 5, 6],
       [7, 8, 9],
       [4, 5, 6],
       [1, 2, 3]])
```
마지막 `y`의 경우 `y`는 `x`와 별개로 제 메모리를 지닌다.
가령 아래처럼 `x`에 새로운 요소를 대입해도 `y`는 변함이 없다.

```python
>>> x[0,0] = 999
>>> x
array([[999,   2,   3],
       [  4,   5,   6],
       [  7,   8,   9]])
>>> y
array([[1, 2, 3],
       [4, 5, 6],
       [7, 8, 9],
       [4, 5, 6],
       [1, 2, 3]])
```

반면 인덱싱이 아니라 슬라이싱으로는 `x`상의 변화가 `y`에 영향을 미칠 수 있다.

```python
>>> x = np.ones((3,3))
>>> y = x[:2,:2]
>>> y 
array([[1., 1.],
       [1., 1.]])
>>> x
array([[1., 1., 1.],
       [1., 1., 1.],
       [1., 1., 1.]])
>>> x[0,0] = 999
>>> x
array([[999.,   1.,   1.],
       [  1.,   1.,   1.],
       [  1.,   1.,   1.]])
>>> y
array([[999.,   1.],
       [  1.,   1.]])
```
